#!url=https://raw.githubusercontent.com/mottzz87/crules/main/module/surge/wjkcp.sgmodule
#!name=ç½‘åŠ å¿«è½¦è‡ªåŠ¨åŒ–Plus
#!desc=ç½‘åŠ å¿«è½¦æ‰¹é‡ç™»å½•+è‡ªåŠ¨ç­¾åˆ° â€¢ æ”¯æŒå¤šè´¦å·\nå®šæ—¶ä»»åŠ¡ï¼š\n1. æ¯å¤©4:56å’Œ22:56è‡ªåŠ¨ç­¾åˆ°\n2. æ¯å¤©1:29è‡ªåŠ¨ç™»å½•ç»­æœŸ\n
#!category=ğŸ‰ Mottzz87
#!author=Mottzz87
#!homepage=https://github.com/mottzz87/crules
#!arguments=è´¦å·åˆ—è¡¨:test1@gmail.com|test2@gmail.com,å¯†ç åˆ—è¡¨:12345678,å¤±è´¥é‡è¯•æ¬¡æ•°:0,è‡ªåŠ¨ç™»å½•é€šçŸ¥:true,è‡ªåŠ¨ç­¾åˆ°é€šçŸ¥:true,å¼ºåˆ¶ç™»å½•å‘¨æœŸ:25
#!arguments-desc=- è´¦å·åˆ—è¡¨ï¼šå¤šä¸ªé‚®ç®±ç”¨ç«–çº¿|åˆ†éš”\n- å¯†ç åˆ—è¡¨ï¼šå¤šä¸ªå¯†ç ç”¨ç«–çº¿|åˆ†éš”ï¼Œå¦‚æœåªå¡«ä¸€ä¸ªåˆ™æ‰€æœ‰è´¦å·å…±ç”¨\n- å¤±è´¥é‡è¯•æ¬¡æ•°ï¼šâš ï¸ ä»…åœ¨ç¡®å®šéœ€è¦æ—¶è®¾ç½®ï¼0è¡¨ç¤ºä¸é‡è¯•ï¼ˆæ¨èï¼‰ï¼Œæœ€å¤§3æ¬¡ã€‚æ¯æ¬¡é‡è¯•ä¼šå¢åŠ æœåŠ¡å™¨è´Ÿè½½ï¼Œé™¤éç‰¹æ®Šæƒ…å†µï¼Œå»ºè®®ä¿æŒé»˜è®¤å€¼0\n- è‡ªåŠ¨ç™»å½•é€šçŸ¥ï¼šè‡ªåŠ¨ç™»å½•æ—¶æ˜¯å¦é€šçŸ¥ï¼ˆå¤±è´¥æ—¶ä»ä¼šé€šçŸ¥ï¼‰\n- è‡ªåŠ¨ç­¾åˆ°é€šçŸ¥ï¼šè‡ªåŠ¨ç­¾åˆ°æ—¶æ˜¯å¦é€šçŸ¥ï¼ˆå¤±è´¥æ—¶ä»ä¼šé€šçŸ¥ï¼‰\n- å¼ºåˆ¶ç™»å½•å‘¨æœŸï¼šå¤šå°‘å¤©åå¼ºåˆ¶é‡æ–°ç™»å½•ï¼Œé»˜è®¤25å¤©\næ‰‹åŠ¨ä»»åŠ¡ï¼š\n1. ç™»å½•ï¼šè®¿é—® https://wjkc123.com/api/user/login11\n2. ç­¾åˆ°ï¼šè®¿é—® https://wjkc123.com/api/user/sign_use22
#!arguments-option=å¤±è´¥é‡è¯•æ¬¡æ•°:0,1,2,3
#!arguments-option=è‡ªåŠ¨ç™»å½•é€šçŸ¥:true,false
#!arguments-option=è‡ªåŠ¨ç­¾åˆ°é€šçŸ¥:true,false
#!arguments-option=å¼ºåˆ¶ç™»å½•å‘¨æœŸ:20,25,30

[Script]
# æ‰‹åŠ¨è§¦å‘è·å–token
wjkcpæ‰‹åŠ¨ç™»å½• = type=http-request,timeout=240,pattern=^https?:\/\/wjkc123\.com\/api\/user\/login11$,requires-body=1,script-path=https://raw.githubusercontent.com/mottzz87/crewrite/main/rewrite/wjkcp/wjkcp_login.js,argument=accounts={{{è´¦å·åˆ—è¡¨}}}&passwords={{{å¯†ç åˆ—è¡¨}}}&retry={{{å¤±è´¥é‡è¯•æ¬¡æ•°}}}

# è‡ªåŠ¨ç™»å½•ï¼ˆæ¯å¤©1:29æ‰§è¡Œï¼‰
wjkcpè‡ªåŠ¨ç™»å½• = type=cron,cronexp="*/3 * * * *",wake-system=1,timeout=240,script-path=https://raw.githubusercontent.com/mottzz87/crewrite/main/rewrite/wjkcp/wjkcp_login.js,argument=accounts={{{è´¦å·åˆ—è¡¨}}}&passwords={{{å¯†ç åˆ—è¡¨}}}&retry={{{å¤±è´¥é‡è¯•æ¬¡æ•°}}}&autologinnotify={{{è‡ªåŠ¨ç™»å½•é€šçŸ¥}}}&expire={{{å¼ºåˆ¶ç™»å½•å‘¨æœŸ}}}

# æ‰‹åŠ¨ç­¾åˆ°
wjkcpæ‰‹åŠ¨ç­¾åˆ° = type=http-request,timeout=240,pattern=^https?:\/\/wjkc123\.com\/api\/user\/sign_use22$,script-path=https://raw.githubusercontent.com/mottzz87/crewrite/main/rewrite/wjkcp/wjkcp_signin.js,argument=accounts={{{è´¦å·åˆ—è¡¨}}}

# è‡ªåŠ¨ç­¾åˆ°ï¼ˆæ¯å¤©4:56å’Œ22:56æ‰§è¡Œï¼‰
wjkcpè‡ªåŠ¨ç­¾åˆ° = type=cron,cronexp="*/3 * * * *",wake-system=1,timeout=240,script-path=https://raw.githubusercontent.com/mottzz87/crewrite/main/rewrite/wjkcp/wjkcp_signin.js,argument=accounts={{{è´¦å·åˆ—è¡¨}}}&autosignnotify={{{è‡ªåŠ¨ç­¾åˆ°é€šçŸ¥}}}

# ç”¨æˆ·ä¿¡æ¯å“åº”é‡å†™
wjkcpç”¨æˆ·ä¿¡æ¯ = type=http-response,pattern=^https?:\/\/wjkc123\.com\/api\/user\/userinfo$,requires-body=1,script-path=https://raw.githubusercontent.com/mottzz87/crewrite/main/rewrite/wjkcp/wjkcp_user.js

[MITM]
hostname = %APPEND% wjkc123.com 